# Game-Shiru システム設計プレゼンテーション

## 発表の流れ

1. **はじめに**
2. **システム全体像のご紹介**
3. **技術スタックの説明**
4. **データフローのご説明**
5. **主要コンポーネントの詳細**
6. **データベース設計のご紹介**
7. **エンティティ関係の詳細**
8. **まとめ**
9. **質疑応答**

---

## 1. はじめに

皆様、こんにちは。本日はGame-Shiruゲーム推薦システムの設計についてご説明させていただきます。

Game-Shiruは、「あなたの『やりたい』が、すぐに見つかる」をコンセプトにしたゲーム推薦プラットフォームです。ユーザーが自分にぴったりのゲームを見つけられるよう、様々なフィルタリング機能と直感的なインターフェースを提供しています。

本日のプレゼンテーションでは、このシステムの技術的な背景とデータベース設計について、分かりやすくご説明いたします。

---

## 2. システム全体像のご紹介

ではまず、Game-Shiruの全体像をご覧ください。

このシステムは、ユーザーがブラウザを通じてゲーム情報を検索し、管理者がゲームデータを追加・編集できるウェブアプリケーションです。特に、ゲームのジャンル、プラットフォーム、開発者情報など、多岐にわたるデータを効率的に管理できるように設計されています。

主な特徴としては：
- 直感的な検索インターフェース
- 詳細なフィルタリング機能
- 管理者向けのデータ管理機能
- レスポンシブデザインによるモバイル対応

これらの機能を実現するために、適切な技術スタックとデータベース設計が採用されています。

---

## 3. 技術スタックの説明

では、Game-Shiruで使用されている技術スタックについてご説明いたします。

**フロントエンド**には、HTML5、CSS3、JavaScriptを使用しています。これにより、現代的でインタラクティブなユーザーインターフェースを実現しています。特に、Cropper.jsというライブラリを使用して、ゲーム画像の編集機能を提供しています。

**バックエンド**には、PythonのFlaskウェブフレームワークを採用しています。Flaskは軽量で柔軟性が高く、小規模から中規模のウェブアプリケーションに最適です。また、Jinja2というテンプレートエンジンを使用して、動的なHTMLページを生成しています。

**データベース**には、SQLiteを使用しています。SQLiteは軽量で組み込みが容易なリレーショナルデータベースで、小規模から中規模のアプリケーションに適しています。また、SQLAlchemyというORMを使用して、データベース操作を効率化しています。

**アーキテクチャ**には、MVCパターンとDAOデザインパターンを組み合わせています。これにより、コードの保守性と拡張性を高めています。

---

## 4. データフローのご説明

では、システム内でのデータの流れについてご説明いたします。

1. **ユーザー**がブラウザを通じてHTTPリクエストを送信します。例えば、ゲームの検索や詳細ページの表示などです。

2. **Flaskアプリケーションサーバー**がこのリクエストを受け取り、必要な処理を実行します。例えば、検索条件に基づいたデータの取得や、フォームデータのバリデーションなどです。

3. **GameDAO**というデータアクセス層が、データベース操作を担当します。ここでは、SQLクエリの生成やトランザクション管理など、データベースに関する処理を集中して行います。

4. **SQLiteデータベース**から必要なデータを取得します。データベースは正規化された設計になっており、効率的なデータ管理を実現しています。

5. **Flaskサーバー**が取得したデータをもとに、HTML、CSS、JavaScriptを生成し、ユーザーに返却します。

6. **静的ファイルサーバー**が、CSSや画像などの静的リソースを提供します。これにより、ページの表示速度が向上します。

7. **外部CDNサービス**が、追加機能を提供します。具体的には、Google Fontsから日本語フォントを取得し、Cropper.jsから画像編集機能を提供しています。

このデータフローにより、ユーザーはスムーズな操作体験を得ることができます。

---

## 5. 主要コンポーネントの詳細

では、各コンポーネントの詳細についてご説明いたします。

### ユーザー（ブラウザ）インターフェース

ユーザーインターフェースは、ゲームの検索、詳細表示、管理機能を提供します。特に、以下の機能が特徴的です：

- 直感的な検索インターフェース
- 詳細なフィルタリング機能（ジャンル、プラットフォーム、開発者など）
- 管理者向けの認証機能
- レスポンシブデザインによるモバイル対応

ユーザーは、これらの機能を通じて、自分にぴったりのゲームを見つけることができます。

### Flaskアプリケーションサーバー

Flaskサーバーは、以下の役割を担っています：

- HTTPリクエストの処理
- ビジネスロジックの実行
- テンプレートエンジンを使用したHTML生成
- セッション管理と認証機能

Flaskは軽量で柔軟性が高いため、必要な機能を必要な分だけ実装することができます。

### GameDAO（Data Access Object）

GameDAOは、データベース操作の専用レイヤーです。以下の役割を担っています：

- CRUD操作（作成、読み取り、更新、削除）の実装
- トランザクション管理
- SQLインジェクションの防止
- ビジネスロジックとデータベースの間のインターフェース

これにより、データベース操作に関するコードを一箇所に集中させ、保守性を高めています。

### SQLiteデータベース

SQLiteデータベースは、以下の特徴を持っています：

- 軽量なリレーショナルデータベース
- 正規化されたスキーマ（第3正規形）
- 7つのテーブルで構成されたゲーム情報管理
- 外部キー制約によるデータ整合性の保持

SQLiteは組み込みが容易で、小規模から中規模のアプリケーションに適しています。

---

## 6. データベース設計のご紹介

では、データベース設計についてご説明いたします。

Game-Shiruのデータベースは、7つのテーブルで構成されています。それぞれのテーブルの役割についてご説明いたします。

### ゲームテーブル（games）

ゲームの基本情報を保持する主要テーブルです。以下の情報を管理しています：

- ゲームID（主キー）
- タイトル
- リリース日
- 説明文
- 評価スコア
- 価格
- 画像URL
- 開発者ID（外部キー）
- ジャンルID（外部キー）

このテーブルが、システムの中心となるデータを管理しています。

### 開発者テーブル（developers）

ゲーム開発会社の情報を管理するテーブルです。以下の情報を保持しています：

- 開発者ID（主キー）
- 会社名称
- 所在地（国）
- 設立年
- 公式ウェブサイトURL

これにより、ゲームと開発者の関係を管理することができます。

### ジャンルテーブル（genres）

ゲームのジャンル情報を管理するテーブルです。以下の情報を保持しています：

- ジャンルID（主キー）
- ジャンル名称
- ジャンルの説明

これにより、ゲームをジャンル別に分類することができます。

### プラットフォームテーブル（platforms）

ゲームプラットフォームの情報を管理するテーブルです。以下の情報を保持しています：

- プラットフォームID（主キー）
- プラットフォーム名称
- メーカー名称
- リリース年

これにより、ゲームがどのプラットフォームで利用可能かを管理することができます。

### タグテーブル（preferences）

ゲームのタグ情報を管理するテーブルです。以下の情報を保持しています：

- タグID（主キー）
- タグ名称
- タグのカテゴリ（ジャンルまたは好み）

これにより、ゲームに様々なタグを付与することができます。

---

## 7. エンティティ関係の詳細

では、テーブル間の関係について詳しくご説明いたします。

### 1. ゲームと開発者の関係（1対多）

1人の開発者は、複数のゲームを開発することができます。例えば、「任天堂」という開発者が「マリオ」と「ゼルダ」という複数のゲームを開発する場合です。

この関係は、開発者テーブルの主キー（開発者ID）が、ゲームテーブルの外部キーとして参照されることで実現されています。

### 2. ゲームとジャンルの関係（1対多）

1つのジャンルには、複数のゲームが属することができます。例えば、「アクション」ジャンルに「マリオ」と「ソニック」という複数のゲームが属する場合です。

この関係は、ジャンルテーブルの主キー（ジャンルID）が、ゲームテーブルの外部キーとして参照されることで実現されています。

### 3. ゲームとプラットフォームの関係（多対多）

1つのゲームは、複数のプラットフォームでリリースすることができます。また、1つのプラットフォームには、複数のゲームが存在することができます。

例えば、「マリオ」というゲームが「Nintendo Switch」と「Wii U」という複数のプラットフォームでリリースされる場合です。

この多対多の関係は、ゲームプラットフォーム接続テーブル（game_platforms）を使用して実現されています。

### 4. ゲームとタグの関係（多対多）

1つのゲームには、複数のタグが付与することができます。また、1つのタグは、複数のゲームに適用することができます。

例えば、「マリオ」というゲームに「アクション」「アドベンチャー」「ファミリー」という複数のタグが付与される場合です。

この多対多の関係は、ゲームタグ接続テーブル（game_tags）を使用して実現されています。

### 接続テーブルの役割

接続テーブルは、多対多の関係を実現するために使用されます。

**ゲームプラットフォームテーブル**は、ゲームとプラットフォームの間の多対多関係を実現します。ゲームIDとプラットフォームIDの組み合わせが主キーとなります。

**ゲームタグテーブル**は、ゲームとタグの間の多対多関係を実現します。ゲームIDとタグIDの組み合わせが主キーとなります。

### データ整合性の保持

システムでは、データ整合性を保持するために、以下の仕組みを採用しています：

- すべての外部キー関係に参照整合性制約を設定
- SQLiteが適切なインデックスを使用してパフォーマンスを最適化
- 第3正規形（3NF）に正規化されたデータベース設計
- トランザクション管理によるデータの一貫性保持

これにより、データの整合性とパフォーマンスを両立しています。

---

## 8. まとめ

本日は、Game-Shiruゲーム推薦システムの設計についてご説明させていただきました。

主なポイントをまとめますと：

1. **技術スタック**: Flask、SQLite、HTML5/CSS3/JSを使用した現代的なウェブアプリケーション
2. **データフロー**: ユーザーからデータベースまでの効率的なデータ処理
3. **主要コンポーネント**: 各層が明確に分離された保守性の高い設計
4. **データベース設計**: 正規化された7つのテーブルで構成
5. **エンティティ関係**: 適切な関係設計による柔軟なデータ管理

Game-Shiruは、これらの設計により、ユーザーに快適なゲーム検索体験を提供するとともに、管理者に効率的なデータ管理機能を提供しています。

---

## 9. 質疑応答

以上で、Game-Shiruシステム設計のプレゼンテーションを終わります。

ご質問やご意見がございましたら、どうぞお気軽にお寄せください。よろしくお願いいたします。

---

**補足資料**

- システム構成図: `システム構成図.png`
- ER図: `ER図.png`
- 技術ドキュメント: `SYSTEM_DESIGN_JP.md`
- スライド資料: `データベース最終課題_スライド.pptx`

ご清聴ありがとうございました。
